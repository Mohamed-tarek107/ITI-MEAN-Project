<div
  class="movies-container"
  style="display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center"
>
  <div
    class="card"
    *ngFor="let movie of movies"
    style="
      width: 13rem;
      height: 24rem;
      overflow: hidden;
      position: relative;
      border: none;
      border-radius: 10px;
    "
  >
    <a [routerLink]="['/details', movie.id]">
      <img
        [src]="'https://image.tmdb.org/t/p/w500' + movie.poster"
        class="card-img-top"
        alt="{{ movie.title }}"
        style="object-fit: cover; width: 100%; height: 100%; border-radius: 10px"
      />
    </a>

    <i
      class="bi bi-circle-fill"
      style="
        color: rgba(234, 231, 231, 0.571);
        position: absolute;
        top: 8px;
        right: 8px;
        cursor: pointer;
      "
    ></i>
    <i
      class="bi bi-three-dots"
      style="position: absolute; top: 8px; right: 8px; cursor: pointer"
    ></i>

    <div
      style="
        position: absolute;
        top: calc(45% + 70px);
        left: calc(50% - 95px);
        width: 40px;
        height: 40px;
        background-color: black;
        border: 2px solid green;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 10;
        color: white;
        font-weight: bold;
        font-size: 16px;
      "
    >
      {{ movie.vote_average | number : '1.1-1' }}
    </div>

    <div class="card-body" style="height: 40%; overflow: hidden">
      <h5 class="card-title fs-6 fw-semibold pt-1">{{ movie.title }}</h5>
      <div style="display: flex; align-items: center">
        <p class="card-text mb-0">{{ movie.release_date | date : 'MMM d, y' }}</p>
        <button class="btn ms-auto" (click)="toggleLike(movie)">
          <i
            class="fa-solid fa-heart heart-icon"
            [ngClass]="{ liked: movie.isLiked, animate: movie.animateLike }"
            (click)="toggleLike(movie)"
            style="position: absolute; top: 8px; right: 8px; cursor: pointer; font-size: 1.5rem"
          >
          </i>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- PAGINATION -->
<nav aria-label="Movie pagination" style="display:flex; justify-content:center; margin-top:1rem;">
  <ul class="pagination" style="gap: 12px; border: none;">
    <!-- Previous button -->
    <li class="page-item" [class.disabled]="currentpage === 1" style="border:none;">
      <button 
        class="page-link" 
        (click)="previousPage()" 
        [disabled]="currentpage === 1"
        style="color: #ffd700; border:none; background:none; cursor: pointer; font-size: 18px; opacity: 1;"
        [style.opacity]="currentpage === 1 ? '0.5' : '1'"
      >
        <i class="bi bi-arrow-left"></i>
      </button>
    </li>
    
    <!-- Page numbers -->
    <li 
      class="page-item" 
      *ngFor="let page of getpageNumber()" 
      [class.active]="page === currentpage"
      style="border:none;"
    >
      <button 
        class="page-link" 
        (click)="gotopage(page)"
        [class.active]="page === currentpage"
        style="color:black; border:none; background:none; cursor: pointer; padding: 8px 12px; border-radius: 50%; transition: all 0.3s ease;"
        [style.background-color]="page === currentpage ? '#ffd700' : 'transparent'"
        [style.color]="page === currentpage ? 'black' : 'black'"
        [style.box-shadow]="page === currentpage ? '0 0 10px rgba(255, 215, 0, 0.7)' : 'none'"
      >
        {{ page }}
      </button>
    </li>
    
    <!-- Next button -->
    <li class="page-item" [class.disabled]="currentpage === totalpages" style="border:none;">
      <button 
        class="page-link" 
        (click)="nextPage()" 
        [disabled]="currentpage === totalpages"
        style="color: #ffd700; border:none; background:none; cursor: pointer; font-size: 18px; opacity: 1;"
        [style.opacity]="currentpage === totalpages ? '0.5' : '1'"
      >
        <i class="bi bi-arrow-right"></i>
      </button>
    </li>
  </ul>
</nav>